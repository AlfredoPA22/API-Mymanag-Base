scalar Date

type Warehouse {
  _id: ID!
  name: String
  description: String
  is_active: Boolean
}

input WarehouseInput {
  name: String!
  description: String
}

input UpdateWarehouseInput {
  name: String!
  description: String!
}

type Permission {
  label: String
  name: String
  value: String
  children: [Permission]
}

input PermissionInput {
  name: String!
  description: String
}

type Role {
  _id: ID!
  name: String
  description: String
  permission: [String]
}

input RoleInput {
  name: String!
  description: String
  permission: [String!]!
}

type User {
  _id: ID!
  user_name: String
  password: String
  role: Role
  is_active: Boolean
  is_global: Boolean
}

input UserInput {
  user_name: String!
  password: String!
  role: String!
  is_global: Boolean!
}

input UpdateUserInput {
  user_name: String!
  role: String!
  is_global: Boolean!
}

input LoginInput {
  user_name: String!
  password: String!
}

type Brand {
  _id: ID!
  name: String
  description: String
  count_product: Int
  is_active: Boolean
}

input BrandInput {
  name: String!
  description: String
}

input UpdateBrandInput {
  name: String!
  description: String!
}

type Category {
  _id: ID!
  name: String
  description: String
  count_product: Int
  is_active: Boolean
}

input CategoryInput {
  name: String!
  description: String
}

input UpdateCategoryInput {
  name: String!
  description: String!
}

type Provider {
  _id: ID!
  code: String
  name: String
  address: String
  phoneNumber: String
}

input ProviderInput {
  name: String!
  address: String!
  phoneNumber: String
}

input UpdateProviderInput {
  name: String!
  address: String!
  phoneNumber: String!
}

enum StockType {
  serializado
  individual
}

type Product {
  _id: ID!
  code: String
  name: String
  description: String
  image: String
  sale_price: Float
  stock: Int
  last_cost_price: Float
  brand: Brand
  category: Category
  status: String
  stock_type: StockType
}

input ProductInput {
  code: String
  name: String!
  description: String
  image: String
  sale_price: Float
  category: String!
  brand: String!
  stock_type: StockType!
}

input UpdateProductInput {
  name: String!
  description: String!
  sale_price: Float!
  category: String!
  brand: String!
}

input FilterProductInput {
  category: String
  brand: String
  status: String
}

type PurchaseOrder {
  _id: ID!
  code: String
  date: String
  provider: Provider
  total: Float
  status: String
  created_by: User
}

input PurchaseOrderInput {
  date: String!
  provider: String!
}

input FilterPurchaseOrderInput {
  startDate: Date
  endDate: Date
  provider: String
  status: String
}

type PurchaseOrderDetail {
  _id: ID!
  purchase_order: PurchaseOrder
  product: Product
  purchase_price: Float
  quantity: Int
  serials: Int
  subtotal: Float
}

input PurchaseOrderDetailInput {
  purchase_order: String!
  purchase_price: Float!
  product: String!
  quantity: Int!
  warehouse: String
}

input UpdatePurchaseOrderDetailInput {
  purchase_price: Float!
  quantity: Int!
}

type ProductSerial {
  _id: ID!
  serial: String
  product: Product
  warehouse: Warehouse
  purchase_order_detail: PurchaseOrderDetail
  sale_order_detail: SaleOrderDetail
  status: String
}

type ProductInventory {
  _id: ID!
  product: Product
  warehouse: Warehouse
  purchase_order_detail: PurchaseOrderDetail
  quantity: Int
  reserved: Int
  sold: Int
  status: String
}

input addSerialToPurchaseOrderDetailInput {
  purchase_order_detail: String!
  serial: String!
  warehouse: String!
}

type DeleteResponse {
  success: Boolean!
}

type Client {
  _id: ID!
  code: String
  fullName: String
  email: String
  address: String
  phoneNumber: String
}

input ClientInput {
  fullName: String!
  email: String
  address: String
  phoneNumber: String
}

input UpdateClientInput {
  fullName: String!
  email: String!
  address: String!
  phoneNumber: String!
}

type SaleOrder {
  _id: ID!
  code: String
  client: Client
  date: String
  total: Float
  status: String
  created_by: User
}

input SaleOrderInput {
  date: String!
  client: String!
}

input FilterSaleOrderInput {
  startDate: Date
  endDate: Date
  client: String
  status: String
}

type SaleOrderDetail {
  _id: ID!
  sale_order: SaleOrder
  product: Product
  sale_price: Float
  quantity: Int
  serials: Int
  subtotal: Float
}

type SaleOrderByClient {
  saleOrder: [SaleOrder]
  total: String!
}

type PurchaseOrderDetailToPDF {
  purchaseOrderDetail: PurchaseOrderDetail
  productSerial: [ProductSerial]
}

type PurchaseOrderToPDF {
  purchaseOrder: PurchaseOrder
  purchaseOrderDetail: [PurchaseOrderDetailToPDF]
}

type SaleOrderDetailToPDF {
  saleOrderDetail: SaleOrderDetail
  productSerial: [ProductSerial]
}

type SaleOrderToPDF {
  saleOrder: SaleOrder
  saleOrderDetail: [SaleOrderDetailToPDF]
}

input SaleOrderDetailInput {
  sale_order: String!
  sale_price: Float!
  product: String!
  quantity: Int!
  warehouse: String
}

input UpdateSaleOrderDetailInput {
  sale_price: Float!
  quantity: Int!
}

input addSerialToSaleOrderDetailInput {
  sale_order_detail: String!
  serial: String!
}

type ReportSaleOrderByClient {
  client: String!
  total: Float!
}

type ReportSaleOrderByCategory {
  category: String!
  total: Float!
}

type GeneralData {
  total_products_number: Int!
  total_products_out: Int!
  stock: Int!
  best_product: Product
  best_product_sales_number: Int!
  total_sales_number: Int!
  total_sales_value: Float!
}

type Query {
  listUser: [User]

  listRole: [Role]
  listPermissionsByRole(roleId: String!): [String]

  listPermission: [Permission]

  listBrand: [Brand]

  listCategory: [Category]

  listWarehouse: [Warehouse]

  listProduct: [Product]
  listProductWithParams(
    categoryId: String
    brandId: String
    warehouseId: String
  ): [Product]
  findProduct(productId: String!): Product
  productReport(filterProductInput: FilterProductInput!): [Product]
  listProductSerialByProduct(productId: String!): [ProductSerial]
  listProductInventoryByProduct(productId: String!): [ProductInventory]
  searchProduct(serial: String!): Product

  listClient: [Client]

  listProvider: [Provider]

  listSaleOrder: [SaleOrder]
  listSaleOrderDetail(saleOrderId: String!): [SaleOrderDetail]
  listProductSerialBySaleOrder(saleOrderDetailId: String!): [ProductSerial]
  listSaleOrderByClient(clientId: String!): SaleOrderByClient
  saleOrderReport(filterSaleOrderInput: FilterSaleOrderInput!): [SaleOrder]
  findSaleOrder(saleOrderId: String!): SaleOrder
  findSaleOrderToPDF(saleOrderId: String!): SaleOrderToPDF
  reportSaleOrderByClient: [ReportSaleOrderByClient]
  reportSaleOrderByCategory: [ReportSaleOrderByCategory]
  reportSaleOrderByMonth: [SaleOrder]
  generalData: GeneralData

  listPurchaseOrder: [PurchaseOrder]
  listPurchaseOrderDetail(purchaseOrderId: String!): [PurchaseOrderDetail]
  listProductSerialByPurchaseOrder(
    purchaseOrderDetailId: String!
  ): [ProductSerial]
  purchaseOrderReport(
    filterPurchaseOrderInput: FilterPurchaseOrderInput!
  ): [PurchaseOrder]
  findPurchaseOrder(purchaseOrderId: String!): PurchaseOrder
  findPurchaseOrderToPDF(purchaseOrderId: String!): PurchaseOrderToPDF

  generateCode(type: String!): String
}

type Mutation {
  createPermission(permissionInput: PermissionInput!): Permission

  createRole(roleInput: RoleInput!): Role
  deleteRole(roleId: String!): DeleteResponse

  createUser(userInput: UserInput!): User
  updateUser(userId: String!, updateUserInput: UpdateUserInput!): User
  deleteUser(userId: String!): DeleteResponse
  login(loginInput: LoginInput!): String
  switchUserState(userId: String!): User

  createBrand(brandInput: BrandInput!): Brand
  updateBrand(brandId: String!, updateBrandInput: UpdateBrandInput!): Brand
  deleteBrand(brandId: String!): DeleteResponse

  createCategory(categoryInput: CategoryInput!): Category
  updateCategory(
    categoryId: String!
    updateCategoryInput: UpdateCategoryInput!
  ): Category
  deleteCategory(categoryId: String!): DeleteResponse

  createWarehouse(warehouseInput: WarehouseInput!): Warehouse
  updateWarehouse(
    warehouseId: String!
    updateWarehouseInput: UpdateWarehouseInput!
  ): Warehouse
  deleteWarehouse(warehouseId: String!): DeleteResponse

  createProduct(productInput: ProductInput!): Product
  updateProduct(
    productId: String!
    updateProductInput: UpdateProductInput!
  ): Product
  deleteProduct(productId: String!): DeleteResponse

  createClient(clientInput: ClientInput!): Client
  updateClient(clientId: String!, updateClientInput: UpdateClientInput!): Client
  deleteClient(clientId: String!): DeleteResponse

  createProvider(providerInput: ProviderInput!): Provider
  updateProvider(
    providerId: String!
    updateProviderInput: UpdateProviderInput!
  ): Provider
  deleteProvider(providerId: String!): DeleteResponse

  createPurchaseOrder(purchaseOrderInput: PurchaseOrderInput!): PurchaseOrder
  createPurchaseOrderDetail(
    purchaseOrderDetailInput: PurchaseOrderDetailInput!
  ): PurchaseOrderDetail
  addSerialToPurchaseOrderDetail(
    addSerialToPurchaseOrderDetailInput: addSerialToPurchaseOrderDetailInput!
  ): ProductSerial
  deleteSerialToPurchaseOrderDetail(productSerialId: String!): DeleteResponse
  deleteProductToPurchaseOrderDetail(
    purchaseOrderDetailId: String!
  ): DeleteResponse
  deletePurchaseOrder(purchaseOrderId: String!): DeleteResponse
  approvePurchaseOrder(purchaseOrderId: String!): PurchaseOrder
  updatePurchaseOrderDetail(
    purchaseOrderDetailId: String!
    updatePurchaseOrderDetailInput: UpdatePurchaseOrderDetailInput!
  ): PurchaseOrderDetail

  createSaleOrder(saleOrderInput: SaleOrderInput!): SaleOrder
  createSaleOrderDetail(
    saleOrderDetailInput: SaleOrderDetailInput!
  ): SaleOrderDetail
  addSerialToSaleOrderDetail(
    addSerialToSaleOrderDetailInput: addSerialToSaleOrderDetailInput!
  ): ProductSerial
  deleteSerialToSaleOrderDetail(productSerialId: String!): DeleteResponse
  deleteProductToSaleOrderDetail(saleOrderDetailId: String!): DeleteResponse
  deleteSaleOrder(saleOrderId: String!): DeleteResponse
  approveSaleOrder(saleOrderId: String!): SaleOrder
  updateSaleOrderDetail(
    saleOrderDetailId: String!
    updateSaleOrderDetailInput: UpdateSaleOrderDetailInput!
  ): SaleOrderDetail
}
